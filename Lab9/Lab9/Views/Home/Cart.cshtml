@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model CartViewModal
@{
}

<div class="cart-container">
    <div class="cart-title">Products</div>
    <div class="cart-products">
        <table>
            <tr>
                <th>Is Consired</th>
                <th>Image</th>
                <th>Product</th>
                <th>Seller</th>
                <th>Price</th>
                <th>Date</th>
                <th>Delete</th>
            </tr>

            @for (int i = 0; i < Model.Products.Count; i++)
            {
                <tr>
                    <td>
                        @if (Model.IsConsired[i])
                        {
                            <input type="checkbox" class="form-check-input" name="isConsired" value="@Model.Products[i].Id" checked />
                        }
                        else
                        {
                            <input type="checkbox" class="form-check-input" name="isConsired" value="@Model.Products[i].Id"/>
                        }
                    </td>
                    <td>
                        <img src="@Model.Products[i].LogoSource" alt="product" />
                    </td>
                    <td>
                        @Model.Products[i].Name
                    </td>
                    <td>
                        @(Model.Sellers[i].FirstName + " " + Model.Sellers[i].LastName)
                    </td>
                    <td>
                        @Model.Products[i].Price
                    </td>
                    <td>
                        @Model.AddedToCartProducts[i].DateTime.ToString(@"dd.MM-HH:mm")
                    </td>
                    <td>
                        <a asp-controller="Home" asp-action="DeleteProductFromCart" asp-route-productId="@Model.AddedToCartProducts[i].Id">
                            <img src="~/delete.png" alt="Delete" />
                        </a>
                    </td>
                </tr>
            }
        </table>
    </div>
    <div class="cart-total">
        <div>
            Count: @Model.Products.Count 
        </div>
        <div>
            Total price: @Model.Sum
        </div>
    </div>
</div>